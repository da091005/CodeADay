Objective: Re-Visit the Bubble sort with lines instead of bubbles.		<br>
Start Time: 1600				<br>
End Time:   1700				<hr>
<Title> More Bubble Sort </title> 
<canvas id="gc" width="600" height="600"></canvas>
<script>
window.onload=function() {


	canv=document.getElementById("gc");
	ctx=canv.getContext("2d");
	//canv.addEventListener('mousemove', function(evt){ var mousePos= calculateMousePos(evt);
							//paddle1Y= mousePos.y-PADDLE_HEIGHT/2;
							//});

	document.addEventListener("keydown", keyPush);


	setInterval(function() {
				
				draw();
				},
				1000/100000);
	
}





var canv;
var ctx;
var runonce=true; 		// Flag used to only run once to initilize an array of lines. 
var bararr=[];		// Array of "bar type class"
var s=198;
var t=199;
var count=0;
var secondtime=false;

function swap(pos1, pos2, inarr)
	{
	swappedarr=inarr;
	var temp;
	temp = swappedarr[pos1];
	swappedarr[pos1] = swappedarr[pos2];
	swappedarr[pos2] = temp;
	return swappedarr;
	};


class bar{
	constructor(size, color){
	this.size=size;
	this.color=color;
		}

	}

function randomize(inarr)
{
var outarr=inarr;
var temp;
var len=inarr.length;
var rnd; 		// random position to swap with; 

for(var i=0; i<len; i++)
	{
	rnd=Math.floor(Math.random()*len);
	swap(i, rnd, outarr);

	}



return outarr;
}



function initarr()
{
if(runonce)
	{
ctx.strokewidth=3;
for (var i=0; i<200; i++)
	{
	bararr[i]=new bar((i+1)*3, randomcolor());
	//console.log(i);
	//bararr[i].size=i;
	//bararr[i].color=random;

	}
	
runonce=false;
bararr=randomize(bararr);
}
}



function randomcolor(){
var color; 
var colornum= Math.floor(Math.random() * 6);
switch (colornum)
	{

case 0: color = 'red';
break;
case 1: color = 'orange';
break;
case 2: color = 'yellow';
break;
case 3: color = 'green';
break;
case 4: color = 'blue';
break;
case 5: color = 'purple';
break;
	}


return color;
}


var keyPush = function(evt){
switch(evt.keyCode)
	{
}
	
};


//Function for drawing lines

var line = function (x1, y1, x2, y2)
{
ctx.beginPath();
ctx.moveTo(x1,y1);
ctx.lineTo(x2,y2);
ctx.stroke();


}




function draw(){
	var sortby="size";
	if(runonce)
	{
	initarr();
	}
	
	colorRect(0,0, canv.width, canv.height,'skyblue');
	for(var i=0; i<200; i++)
		{
	ctx.lineWidth=3;
	ctx.strokeStyle=bararr[i].color;
	line(0, i+(i*2), bararr[i].size, i+(i*2));
		}
	


//starting the sort!! (from the bottom!!)
if(s>count)
//for(var s=198; s>0; s--)
	{

//	for (var t=199; t>1; t--)
		{
	if (bararr[s].size> bararr[s-1].size)
		{
		swap(s,s-1, bararr);
		}
	if (secondtime)
		{
	if (bararr[s].color> bararr[s-1].color)
		{
		swap(s,s-1, bararr);
		}


		}
		}
	}
if(t>0)
{
s--;
}
if(s===count)
{
t--;
s=199;
count++;
}




if(t===0)
{
if(!secondtime)
{
//randomize(bararr);
count=0;
t=198;
s=199;
}
secondtime=true;




}




};






function keyPush(evt) {




}

function colorRect(leftX, TopY, width, height, drawColor)
{
	
	ctx.fillStyle= drawColor;
	ctx.strokeRect(leftX, TopY, width, height);
	ctx.fillRect(leftX, TopY, width, height);
	
}



function colorCircle(centerX, centerY, radius, ballColor)
{
	ctx.fillStyle=ballColor;
	ctx.beginPath();
	ctx.arc(centerX, centerY, radius, 0, Math.PI*2, true);
	ctx.fill();


}








</script>
